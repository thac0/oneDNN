<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>oneDNN: Linking to the Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script src="assets/mathjax/MathJax.js?config=TeX-AMS_CHTML,dnnl"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="assets/customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="assets/dnn.js"></script>
</head>
<body>
<div class="mobile-nav"><i id="nav-btn"></i><a href="index.html">oneAPI Deep Neural Network Library (oneDNN)</a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname">
     <a href="index.html">
      <div id="full-name">oneAPI Deep Neural Network Library (oneDNN)</div>
    </a>
   </div>
   <div id="projectbrief">Performance library for Deep Learning</div>
   <div id="projectnumber">2.1.3</div>
  <div>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dev_guide_link.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Linking to the Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>oneDNN includes several header files providing C and C++ APIs for the functionality and one or several libraries depending on how oneDNN was built.</p>
<h2>Header Files</h2>
<table class="doxtable">
<tr>
<th align="left">File </th><th align="left">Description  </th></tr>
<tr>
<td align="left"><a class="el" href="oneapi_2dnnl_2dnnl_8h.html" title="C API. ">include/oneapi/dnnl/dnnl.h</a> </td><td align="left">C header </td></tr>
<tr>
<td align="left"><a class="el" href="oneapi_2dnnl_2dnnl_8hpp.html" title="C++ API. ">include/oneapi/dnnl/dnnl.hpp</a> </td><td align="left">C++ header </td></tr>
<tr>
<td align="left"><a class="el" href="oneapi_2dnnl_2dnnl__types_8h.html" title="C API types definitions. ">include/oneapi/dnnl/dnnl_types.h</a> </td><td align="left">Auxiliary C header </td></tr>
<tr>
<td align="left">include/oneapi/dnnl/dnnl_config.h </td><td align="left">Auxiliary C header </td></tr>
<tr>
<td align="left">include/oneapi/dnnl/dnnl_version.h </td><td align="left">C header with version information </td></tr>
</table>
<h2>Libraries</h2>
<h3>Linux</h3>
<table class="doxtable">
<tr>
<th align="left">File </th><th align="left">Description  </th></tr>
<tr>
<td align="left">lib/libdnnl.so </td><td align="left">oneDNN dynamic library </td></tr>
<tr>
<td align="left">lib/libdnnl.a </td><td align="left">oneDNN static library (if built with <code>DNNL_LIBRARY_TYPE=STATIC</code>) </td></tr>
</table>
<h3>macOS</h3>
<table class="doxtable">
<tr>
<th align="left">File </th><th align="left">Description  </th></tr>
<tr>
<td align="left">lib/libdnnl.dylib </td><td align="left">oneDNN dynamic library </td></tr>
<tr>
<td align="left">lib/libdnnl.a </td><td align="left">oneDNN static library (if built with <code>DNNL_LIBRARY_TYPE=STATIC</code>) </td></tr>
</table>
<h3>Windows</h3>
<table class="doxtable">
<tr>
<th align="left">File </th><th align="left">Description  </th></tr>
<tr>
<td align="left">bin\dnnl.dll </td><td align="left">oneDNN dynamic library </td></tr>
<tr>
<td align="left">lib\dnnl.lib </td><td align="left">oneDNN import or full static library (the latter if built with <code>DNNL_LIBRARY_TYPE=STATIC</code>) </td></tr>
</table>
<h2>Linking to oneDNN</h2>
<p>The examples below assume that oneDNN is installed in the directory defined in the <code>DNNLROOT</code> environment variable.</p>
<h3>Linux/macOS</h3>
<div class="fragment"><div class="line">g++ -std=c++11 -I${DNNLROOT}/include -L${DNNLROOT}/lib simple_net.cpp -ldnnl</div>
<div class="line">clang++ -std=c++11 -I${DNNLROOT}/include -L${DNNLROOT}/lib simple_net.cpp -ldnnl</div>
<div class="line">icpc -std=c++11 -I${DNNLROOT}/include -L${DNNLROOT}/lib simple_net.cpp -ldnnl</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Applications linked dynamically will resolve the dependencies at runtime. Make sure that the dependencies are available in the standard locations defined by the operating system, in the locations listed in the <code>LD_LIBRARY_PATH</code> (Linux) or <code>DYLD_LIBRARY_PATH</code> (macOS) environment variable or the <code>rpath</code> mechanism.</dd></dl>
<h4>Support for macOS hardened runtime</h4>
<p>oneDNN requires the <a href="https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_security_cs_allow-jit">com.apple.security.cs.allow-jit</a> entitlement when it is integrated with an application that uses the macOS <a href="https://developer.apple.com/documentation/security/hardened_runtime_entitlements">hardened runtime</a>. This requirement comes from the fact that oneDNN generates code on the fly and then executes it.</p>
<p>It can be enabled in Xcode or passed to <code>codesign</code> like this: </p>
<div class="fragment"><div class="line">codesign -s <span class="stringliteral">&quot;Your identity&quot;</span> --options runtime --entitlements Entitlements.plist [other options...] /path/to/libdnnl.dylib</div>
</div><!-- fragment --><p>Example <code>Entitlements.plist</code>: </p>
<div class="fragment"><div class="line">&lt;?xml <a class="code" href="group__dnnl__api__service.html#gaad8292408620d0296f22bdf65afb752d">version</a>=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;!DOCTYPE plist PUBLIC <span class="stringliteral">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span> <span class="stringliteral">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span>&gt;</div>
<div class="line">&lt;plist version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">&lt;dict&gt;</div>
<div class="line">    &lt;key&gt;com.apple.security.cs.allow-jit&lt;/key&gt;&lt;<span class="keyword">true</span>/&gt;</div>
<div class="line">&lt;/dict&gt;</div>
<div class="line">&lt;/plist&gt;</div>
</div><!-- fragment --><h3>Windows</h3>
<p>To link the application from the command line, set up the <code>LIB</code> and <code>INCLUDE</code> environment variables to point to the locations of the oneDNN headers and libraries.</p>
<div class="fragment"><div class="line">icl /I%DNNLROOT%\include /Qstd=c++11 /qopenmp simple_net.cpp %DNNLROOT%\lib\dnnl.lib</div>
<div class="line">cl /I%DNNLROOT%\include simple_net.cpp %DNNLROOT%\lib\dnnl.lib</div>
</div><!-- fragment --><p>Refer to the <a href="https://docs.microsoft.com/en-us/cpp/build/walkthrough-creating-and-using-a-dynamic-link-library-cpp?view=vs-2017">Microsoft Visual Studio documentation</a> on linking the application using MSVS solutions.</p>
<dl class="section note"><dt>Note</dt><dd>Applications linked dynamically will resolve the dependencies at runtime. Make sure that the dependencies are available in the standard locations defined by the operating system or in the locations listed in the <code>PATH</code> environment variable. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div class="footer">
    <script>
        $('#top').prependTo($('#side-nav'));
    </script>
    <div class="footer-wrapper">
        <hr>
        <ul class="footer-links">
            <li><a href="legal_information.html">Legal information</a></li>
        </ul>
    </div>
</div>